<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOS PLACA - Ajude a reunir placas perdidas com seus donos</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-functions.js"></script>
    
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px 0;
            text-align: center;
            margin-bottom: 30px;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        /* ... (seus estilos CSS existentes ...) */

        /* Novos estilos para notificação */
        #placa-nao-encontrada {
            background-color: #e8f4fc;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            border-left: 4px solid #3498db;
            display: none;
        }

        #form-notificacao {
            margin-top: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">SOS PLACA</div>
            <h1>Ajude a reunir placas perdidas com seus donos</h1>
        </div>
    </header>
    
    <div class="container">
        <!-- Tela Inicial -->
        <div id="home-screen" class="screen active">
            <h2>O que você deseja fazer?</h2>
            <p>Selecione uma opção abaixo para continuar:</p>
            
            <div class="actions">
                <button id="perdi-btn" class="btn">Perdi uma placa</button>
                <button id="achei-btn" class="btn btn-success">Achei uma placa</button>
            </div>
        </div>
        
        <!-- Tela Perdi Placa -->
        <div id="perdi-screen" class="screen">
            <h2>Buscar placa perdida</h2>
            <p>Preencha os dados da placa que você perdeu para verificar se alguém encontrou.</p>
            
            <div class="form-group">
                <label>Tipo de placa:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="perdi-tipo-comum" name="perdi-tipo-placa" value="comum" checked>
                        <label for="perdi-tipo-comum">
                            <div class="placa-type-container">
                                <img src="comum.png" alt="Placa Comum" class="placa-type-image" id="perdi-img-comum">
                                <span>Padrão antigo (ABC-1234)</span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
            
            <!-- ... (continuará na próxima parte) ... -->
            <!-- ... (continuação da tela Perdi Placa) ... -->
            <div class="form-group">
                <label for="perdi-placa">Número da placa:</label>
                <input type="text" id="perdi-placa" class="placa-input" placeholder="Digite a placa">
                <div class="placa-example" id="perdi-placa-example">Exemplo: ABC-1234</div>
            </div>
            
            <div class="actions">
                <button id="perdi-voltar" class="btn btn-secondary">Voltar</button>
                <button id="perdi-buscar" class="btn">Buscar Placa</button>
            </div>
            
            <div id="perdi-result" class="result">
                <p id="perdi-result-text"></p>
                <div id="perdi-result-contatos"></div>
                <button id="perdi-remover-btn" class="btn btn-danger" style="display: none;">
                    Remover placa do sistema
                </button>
            </div>

            <!-- Seção de Notificação (nova) -->
            <div id="placa-nao-encontrada">
                <div class="alert-message">
                    Placa não encontrada em nossa base. Deseja cadastrar-se para receber notificação quando ela for localizada?
                </div>
                
                <button id="btn-cadastrar-notificacao" class="btn">
                    Sim, quero ser notificado
                </button>

                <div id="form-notificacao">
                    <h4>Cadastro para notificação</h4>
                    <div class="form-notificacao-group">
                        <input type="text" id="placa-cadastro" readonly class="form-control">
                    </div>
                    <div class="form-notificacao-group">
                        <input type="text" id="nome-usuario" placeholder="Seu nome completo" class="form-control" required>
                    </div>
                    <div class="form-notificacao-group">
                        <input type="email" id="email-usuario" placeholder="Seu melhor e-mail" class="form-control" required>
                    </div>
                    <button id="btn-confirmar-cadastro" class="btn btn-success">Cadastrar</button>
                </div>
            </div>
        </div>
        
        <!-- Tela Achei Placa -->
        <div id="achei-screen" class="screen">
            <h2>Cadastrar placa encontrada</h2>
            <p>Preencha os dados da placa que você encontrou para ajudar a reunir com seu dono.</p>
            
            <div class="form-group">
                <label>Tipo de placa:</label>
                <div class="radio-group">
                    <div class="radio-option">
                        <input type="radio" id="achei-tipo-comum" name="achei-tipo-placa" value="comum" checked>
                        <label for="achei-tipo-comum">
                            <div class="placa-type-container">
                                <img src="comum.png" alt="Placa Comum" class="placa-type-image" id="achei-img-comum">
                                <span>Padrão antigo (ABC-1234)</span>
                            </div>
                        </label>
                    </div>
                    <!-- ... (continuará na próxima parte) ... -->
                    <!-- ... (continuação da tela Achei Placa) ... -->
                </div>
            </div>
            
            <!-- Campos de UF/Município (novos) -->
            <div id="uf-municipio-container" style="display: none;">
                <div class="form-group">
                    <label for="uf">UF:</label>
                    <select id="uf" name="uf" required onchange="carregarMunicipios()">
                        <option value="">Selecione um estado</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="municipio">Município:</label>
                    <select id="municipio" name="municipio" required disabled>
                        <option value="">Selecione primeiro o estado</option>
                    </select>
                </div>
            </div>
            
            <!-- ... (restante do formulário Achei Placa) ... -->

            <div class="actions">
                <button id="achei-voltar" class="btn btn-secondary">Voltar</button>
                <button id="achei-salvar" class="btn btn-success">Salvar Placa</button>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>SOS PLACA &copy; 2023 - Ajude a reunir placas perdidas com seus donos</p>
        </div>
    </footer>

    <script>
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBjetihGmlo_z01jx-GW9Ith0oDCS0jwYc",
            authDomain: "sosplaca-73cf7.firebaseapp.com",
            databaseURL: "https://sosplaca-73cf7-default-rtdb.firebaseio.com",
            projectId: "sosplaca-73cf7",
            storageBucket: "sosplaca-73cf7.appspot.com",
            messagingSenderId: "658059385722",
            appId: "1:658059385722:web:5ed0e8fd7f7a2931d894c3"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // ... (código JavaScript completo das partes anteriores) ...

        // Funções para carregar UF/municípios (IBGE)
        async function carregarEstadosIBGE() {
            try {
                const response = await fetch('https://servicodados.ibge.gov.br/api/v1/localidades/estados');
                const estados = await response.json();
                
                const ufSelect = document.getElementById('uf');
                estados.sort((a, b) => a.nome.localeCompare(b.nome))
                       .forEach(estado => {
                           ufSelect.innerHTML += `<option value="${estado.sigla}">${estado.nome}</option>`;
                       });
            } catch (error) {
                console.error("Erro ao carregar estados:", error);
            }
        }

        // ... (restante do JavaScript) ...
    </script>
</body>
</html>
